<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Kata MVVM</title>
    <script type="importmap">
        {
            "imports": {
                "fx": "./cdn/fx.js",
                "site": "./cdn/site.js"
            }
        }
    </script>
    <script type="module">
        import { config } from "fx";
        import { Store, LocalStorageStore } from "site";

        config({
            shouldHandleElement(tagName) {
                return /^x-/i.test(tagName);
            },
            compositionRoot({ singleton }) {
                singleton(Store, () => new LocalStorageStore());
            },
        });
    </script>
</head>
<body>
    <script>
        function another() {
            const snd = document.createElement("x-test");
            snd.innerHTML = `Hello, Dynamic!`;
            document.body.appendChild(snd);
        }
    </script>
    <button onclick="another()">Give me another!</button>
    <x-test>
        Hello, Static!
    </x-test>
    <y-will-be-ignored>
        I will be ignored
    </y-will-be-ignored>
</body>
</html>
